module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,l,i,s){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,a,l,i,s],p=0;(u=new Error(t.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,i=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var u in n=Object(arguments[s]))o.call(n,u)&&(i[u]=n[u]);if(r){l=r(n);for(var c=0;c<l.length;c++)a.call(n,l[c])&&(i[l[c]]=n[l[c]])}}return i}},function(e,t,n){"use strict";
/** @license React v16.4.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(3),o=n(2),a=n(1),l=n(0),i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,u=i?Symbol.for("react.portal"):60106,c=i?Symbol.for("react.fragment"):60107,p=i?Symbol.for("react.strict_mode"):60108,f=i?Symbol.for("react.profiler"):60114,m=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,y=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112;i&&Symbol.for("react.timeout");var v="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function C(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||g}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||g}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=C.prototype;var R=w.prototype=new x;R.constructor=w,r(R,C.prototype),R.isPureReactComponent=!0;var k={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r=void 0,o={},a=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===o[r]&&(o[r]=i[r]);return{$$typeof:s,type:e,key:a,ref:l,props:o,_owner:k.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var O=/\/+/g,T=[];function N(e,t,n,r){if(T.length){var o=T.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function I(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case s:case u:a=!0}}if(a)return n(r,e,""===t?"."+A(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var i=t+A(o=e[l],l);a+=I(o,i,n,r)}else if(null===e||void 0===e?i=null:i="function"==typeof(i=v&&e[v]||e["@@iterator"])?i:null,"function"==typeof i)for(e=i.call(e),l=0;!(o=e.next()).done;)a+=I(o=o.value,i=t+A(o,l++),n,r);else"object"===o&&b("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?$(e,r,n,l.thatReturnsArgument):null!=e&&(j(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n,e={$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function $(e,t,n,r,o){var a="";null!=n&&(a=(""+n).replace(O,"$&/")+"/"),t=N(t,a,r,o),null==e||I(e,"",V,t),P(t)}var D={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return $(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=N(null,null,t,n),null==e||I(e,"",B,t),P(t)},count:function(e){return null==e?0:I(e,"",l.thatReturnsNull,null)},toArray:function(e){var t=[];return $(e,t,null,l.thatReturnsArgument),t},only:function(e){return j(e)||b("143"),e}},createRef:function(){return{current:null}},Component:C,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:m,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},Fragment:c,StrictMode:p,unstable_AsyncMode:y,unstable_Profiler:f,createElement:S,cloneElement:function(e,t,n){(null===e||void 0===e)&&b("267",e);var o=void 0,a=r({},e.props),l=e.key,i=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(i=t.ref,u=k.current),void 0!==t.key&&(l=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)E.call(t,o)&&!_.hasOwnProperty(o)&&(a[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))a.children=n;else if(1<o){c=Array(o);for(var p=0;p<o;p++)c[p]=arguments[p+2];a.children=c}return{$$typeof:s,type:e.type,key:l,ref:i,props:a,_owner:u}},createFactory:function(e){var t=S.bind(null,e);return t.type=e,t},isValidElement:j,version:"16.4.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:k,assign:r}},U={default:D},M=U&&D||U;e.exports=M.default?M.default:M},function(e,t,n){"use strict";e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),l=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={comments:null,comment:"",reply:"",commentIdToReplyTo:null,contractedComments:{}},n.comment=n.comment.bind(n),n.reply=n.reply.bind(n),n.clearInput=n.clearInput.bind(n),n.load=n.load.bind(n),n.onUpVote=n.onUpVote.bind(n),n.onDownVote=n.onDownVote.bind(n),n.onToggleContract=n.onToggleContract.bind(n),n.onShowReply=n.onShowReply.bind(n),n.onHideReply=n.onHideReply.bind(n),n.onComment=n.onComment.bind(n),n.onReply=n.onReply.bind(n),n.renderComment=n.renderComment.bind(n),n.onChangeComment=n.onChangeComment.bind(n),n.onChangeReply=n.onChangeReply.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"comment",value:function(){return this.props.comment(this.state.comment).then(this.clearInput).then(this.load)}},{key:"reply",value:function(){return this.props.comment(this.state.reply,this.state.commentIdToReplyTo).then(this.clearInput).then(this.load)}},{key:"clearInput",value:function(){return this.setState({comment:"",reply:"",commentIdToReplyTo:null})}},{key:"load",value:function(){var e=this;return this.props.getComments().then(function(t){return e.setState({comments:t}),t})}},{key:"onUpVote",value:function(e){this.props.upVote(e.currentTarget.value)}},{key:"onDownVote",value:function(e){this.props.downVote(e.currentTarget.value)}},{key:"onToggleContract",value:function(e){var t,n,r,o=e.currentTarget.value;this.setState({contractedComments:Object.assign({},this.state.contractedComments,(t={},n=o,r=!this.state.contractedComments[o],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))})}},{key:"onShowReply",value:function(e){var t=this.state.commentIdToReplyTo!==e.currentTarget.value?"":this.state.reply;this.setState({reply:t,commentIdToReplyTo:e.currentTarget.value})}},{key:"onHideReply",value:function(e){this.setState({reply:"",commentIdToReplyTo:null})}},{key:"onComment",value:function(e){e.preventDefault(),this.comment()}},{key:"onReply",value:function(e){e.preventDefault(),this.reply()}},{key:"onChangeComment",value:function(e){this.setState({comment:e.currentTarget.value})}},{key:"onChangeReply",value:function(e){this.setState({reply:e.currentTarget.value})}},{key:"renderComment",value:function(e){var t=this,n=["comment"];return this.state.commentIdToReplyTo===e.id&&n.push("replying-to"),e.belongsToAuthor&&n.push("belongs-to-author"),e.className&&n.push(e.className),l.default.createElement("div",{className:n.map(function(e){return t.prefix(e)}).join(" ")},l.default.createElement("div",{className:this.prefix("level-"+e.level)},l.default.createElement("div",{className:this.prefix("comment-content")},l.default.createElement("div",{className:this.prefix("comment-body")},e.bodyDisplay),l.default.createElement("div",{className:this.prefix("comment-footer")},this.props.usersHaveAvatars?l.default.createElement("img",{className:this.prefix("user-avatar"),src:e.userAvatarUrl,alt:e.userNameDisplay}):null,l.default.createElement("span",{className:this.prefix("user-name")},e.userNameDisplay),l.default.createElement("span",{className:this.prefix("timestamp")},e.timestampDisplay),e.replies.length>0?l.default.createElement("button",{className:this.prefix("toggle"),value:e.id,onClick:this.onToggleContract},this.state.contractedComments[e.id]?this.props.expandButtonContent:this.props.contractButtonContent):null,this.state.commentIdToReplyTo===e.id?l.default.createElement("button",{className:this.prefix("hide-reply"),value:e.id,onClick:this.onHideReply},this.props.hideReplyButtonContent):l.default.createElement("button",{className:this.prefix("show-reply"),value:e.id,onClick:this.onShowReply},this.props.showReplyButtonContent))),l.default.createElement("div",{className:this.prefix("reply")},this.state.commentIdToReplyTo===e.id?l.default.createElement("div",{className:this.prefix("form-wrapper")},l.default.createElement("form",{className:this.prefix("reply-form"),onSubmit:this.onReply},l.default.createElement("div",{className:this.prefix("form-element")},l.default.createElement("textarea",{name:"reply",rows:this.props.textareaRows,value:this.state.reply,onChange:this.onChangeReply,disabled:this.props.disabled})),l.default.createElement("div",null,this.props.disabled?null:l.default.createElement("button",{type:"submit"},this.props.postReplyButtonContent),this.props.disabled?null:this.props.postButtonExtraContent)),this.props.disabled?l.default.createElement(this.props.disabledComponent,this.props):null):null)))}},{key:"renderComments",value:function(e){var t=this;return e.map(function(e){return l.default.createElement("li",{key:e.id,className:t.prefix("comment-and-replies")},t.renderComment(e),l.default.createElement("ul",{className:t.prefix("replies"),style:{paddingLeft:t.props.levelPadding}},t.state.contractedComments[e.id]?null:t.renderComments(e.replies)))})}},{key:"prefix",value:function(e){return""+this.props.classPrefix+e}},{key:"render",value:function(){return l.default.createElement("div",{className:this.props.className},l.default.createElement("div",{className:this.prefix("header")},l.default.createElement("form",{className:this.prefix("comment-form"),onSubmit:this.onComment},l.default.createElement("div",{className:this.prefix("form-element")},l.default.createElement("textarea",{name:"comment",rows:this.props.textareaRows,value:this.state.comment,onChange:this.onChangeComment,disabled:this.props.disabled})),l.default.createElement("div",null,this.props.disabled?null:l.default.createElement("button",{type:"submit"},this.props.postCommentButtonContent),this.props.disabled?null:this.props.postButtonExtraContent)),this.props.disabled?l.default.createElement(this.props.disabledComponent,this.props):null),l.default.createElement("div",{className:this.prefix("body")},l.default.createElement("ul",{className:this.prefix("comments")},this.renderedComments)))}},{key:"renderedComments",get:function(){var e=this;if(!this.state.comments)return l.default.createElement("li",{className:this.prefix("loading")},this.props.loadingContent);var t=[],n={};return this.state.comments.forEach(function(r){var o=e.props.normalizeComment(r),a=o.id,l=o.votes,i=o.bodyDisplay,s=o.userAvatarUrl,u=o.userNameDisplay,c=o.timestampDisplay,p=o.belongsToAuthor,f=o.parentCommentId,m=o.className;n[a]={id:a,votes:l,bodyDisplay:i,userAvatarUrl:s,userNameDisplay:u,timestampDisplay:c,belongsToAuthor:p,replies:[],level:0,className:m},f?(n[f].replies.push(n[a]),n[a].level=n[f].level+1):t.push(n[a])}),this.renderComments(t)}}],[{key:"upVote",value:function(e){}},{key:"downVote",value:function(e){}},{key:"getComments",value:function(){return new Promise}},{key:"normalizeComment",value:function(e){return e}},{key:"comment",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise}},{key:"disabledComponent",value:function(e){return l.default.createElement("div",null,"Replace with a component that logs in your user or gets their name.")}},{key:"defaultProps",get:function(){var e=this.upVote,t=this.downVote,n=this.getComments,r=this.normalizeComment,o=this.comment;return{classPrefix:"cb-",className:"commentbox",disabled:!0,usersHaveAvatars:!1,levelPadding:25,textareaRows:7,loadingContent:"Loading...",expandButtonContent:"[+]",contractButtonContent:"[-]",showReplyButtonContent:"reply",hideReplyButtonContent:"cancel",postReplyButtonContent:"Post Reply",postCommentButtonContent:"Post Comment",postButtonExtraContent:null,disabledComponent:this.disabledComponent,upVote:e,downVote:t,getComments:n,normalizeComment:r,comment:o}}}]),t}();t.default=i}]);